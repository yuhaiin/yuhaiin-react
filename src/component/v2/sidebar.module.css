/* Sidebar Container */
.root {
    width: 260px;
    background-color: var(--sidebar-bg);
    color: var(--sidebar-color);
    position: fixed;
    z-index: 1050;

    /* Floating positioning */
    left: var(--sidebar-gap);
    top: var(--sidebar-gap);
    height: calc(100vh - (var(--sidebar-gap) * 2));

    /* Appearance */
    border-radius: var(--sidebar-radius);
    border: 1px solid var(--sidebar-border-color);
    box-shadow: var(--sidebar-box-shadow);

    backdrop-filter: none;
    -webkit-backdrop-filter: none;

    padding: 24px 0;
    overflow-y: auto;

    transition: transform 0.35s cubic-bezier(0.2, 0.8, 0.2, 1);
    will-change: transform;

    /* Mobile: hidden by default */
    transform: translateX(calc(-100% - var(--sidebar-gap) - 30px));
}

.root::-webkit-scrollbar {
    width: 0px;
}

.root.show {
    transform: translateX(0);
}

/* Nav List (ul/div) */
.list {
    display: flex;
    flex-direction: column;
    padding: 0 16px;
    gap: 6px;
    list-style: none;
    margin: 0;
}

/* Base Link Item */
.item {
    display: flex;
    align-items: center;
    width: 100%;
    padding: 12px 18px;
    font-size: 0.95rem;
    font-weight: 500;
    color: var(--sidebar-color);
    border-radius: 14px;
    transition: all 0.2s ease;
    border: 1px solid transparent;
    letter-spacing: 0.3px;
    text-decoration: none;
    cursor: pointer;
    background: transparent;
}

/* Icon alignment */
.item i,
.item svg {
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 1.2rem;
    width: 24px;
    margin-right: 14px;
    transition: transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* Hover State */
.item:hover {
    background-color: var(--sidebar-hover-bg);
    color: var(--sidebar-active-color);
}

.item:hover i {
    transform: scale(1.15) rotate(-5deg);
}

/* Active State */
.item.active {
    background-color: var(--sidebar-active-bg);
    color: var(--sidebar-active-color);
    font-weight: 600;
    box-shadow: var(--sidebar-active-glow);
    border-color: transparent;
}

/* Collapsible Trigger */
.trigger {
    /* Inherits .item styles usually, but we need specific icon behavior */
    display: flex;
}

.triggerIcon {
    margin-left: auto !important;
    margin-right: 0 !important;
    font-size: 0.75rem !important;
    opacity: 0.6;
    transition: transform 0.3s ease;
    width: auto !important;
}

/* Specific styling for when trigger is open (data-state="open" from Radix) */
.trigger[data-state="open"] .triggerIcon {
    transform: rotate(90deg);
    color: var(--sidebar-active-color);
    opacity: 1;
}

/* Sub-menu Container */
.submenu {
    position: relative;
    margin-left: 28px;
    padding: 6px 0;
    border-left: 1px solid var(--sidebar-border-color);
}

/* Content animation for Collapsible */
.content {
    overflow: hidden;
}

.content[data-state="open"] {
    animation: slideDown 0.3s ease-out;
}

.content[data-state="closed"] {
    animation: slideUp 0.3s ease-out;
}

@keyframes slideDown {
    from {
        height: 0;
        opacity: 0;
    }

    to {
        height: var(--radix-collapsible-content-height);
        opacity: 1;
    }
}

@keyframes slideUp {
    from {
        height: var(--radix-collapsible-content-height);
        opacity: 1;
    }

    to {
        height: 0;
        opacity: 0;
    }
}

/* Sub-menu Link */
.subLink {
    position: relative;
    display: flex;
    align-items: center;
    width: 100%;
    padding: 8px 12px 8px 24px;
    font-size: 0.85rem;
    color: var(--sidebar-color);
    opacity: 0.8;
    background: transparent;
    border: none;
    text-decoration: none;
    transition: color 0.2s, opacity 0.2s;
    cursor: pointer;
}

/* Hover (Only when NOT active) */
.subLink:not(.active):hover {
    opacity: 1;
    color: var(--sidebar-active-color);
    transform: translateX(4px);
    transition: transform 0.2s, color 0.2s;
}

/* Active State (Locked position) */
.subLink.active {
    color: var(--sidebar-active-color);
    opacity: 1;
    font-weight: 600;
    transform: none !important;
}

/* The Active Indicator Dot */
.subLink::before {
    content: '';
    position: absolute;
    /* Center on the left border (parent is .submenu which has the border) 
       .subLink is inside .submenu. 
       .submenu has margin-left: 28px.
       .subLink matches width.
       The border is at the left edge of .submenu.
       We want the dot centered on that border.
       Since .subLink is inside, left: 0 is the inside edge.
       If .submenu has NO padding-left (it has padding: 6px 0), then left:0 of subLink is basically at the border.
       So left: -3.5px (half of 7px) might be needed to center it on the line?
       Original was left: -4px.
    */
    left: -4px;
    top: 50%;
    transform: translateY(-50%);
    width: 7px;
    height: 7px;
    border-radius: 50%;
    background-color: var(--sidebar-bg);
    border: 2px solid var(--sidebar-active-color);
    box-shadow: 0 0 8px var(--sidebar-active-color);
    z-index: 10;
    /* Ensure it is above the border */
    display: none;
    transition: none;
}

.subLink.active::before {
    display: block;
}

/* Divider */
.divider {
    border-top: 1px solid var(--divider-color);
    margin: 8px 0;
    width: 100%;
}

/* Mobile Toggle Button */
/* This is usually outside the sidebar but related */
/* Assuming this stays in sidebar.module.css of component or user implements it separately? 
   Original had it in sidebar.module.css so we keep it here for reusable components usage 
   if we decide to export a MobileToggle component, otherwise NavBarContainer handles it.
   I'll include it here for completeness if we genericize it.
*/

/* Mobile Sidebar Behavior */
@media (max-width: 991.98px) {
    .root {
        left: var(--sidebar-gap);
        top: var(--sidebar-gap);
        height: calc(100vh - (var(--sidebar-gap) * 2));
        width: 280px;
        max-width: calc(100vw - 32px);
        margin: 0;
        transform: translateX(calc(-100% - var(--sidebar-gap) - 30px));
        box-shadow: none;
    }

    .root.show {
        transform: translateX(0);
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
    }
}

/* Backdrop Overlay */
.overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.5);
    z-index: 1040;
    display: none;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.overlay.show {
    display: block;
    opacity: 1;
}

/* Desktop override */
@media (min-width: 992px) {
    .root {
        transform: translateX(0);
    }

    .overlay {
        display: none !important;
    }
}